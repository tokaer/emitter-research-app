Task: Select the best emission dataset for the input OR declare ambiguity OR propose a decomposition.

Input row:
- Bezeichnung: "{bezeichnung}"
- Produktinformationen: "{produktinformationen}"
- Referenzeinheit: "{referenzeinheit}"
- Region: "{region}"

Candidates (each is a row from the ecoinvent database - do not modify any strings):
{candidates_json}

===== DECISION TREE (follow step by step) =====

STEP 1 - CLASSIFY THE INPUT:
Is this a SIMPLE ACTIVITY that has direct ecoinvent datasets?
Examples of SIMPLE activities (NEVER decompose these):
  - Fuels: Diesel, Benzin, Heizoel, Erdgas, Kerosin, petrol, natural gas, LPG
  - Energy: Strom, Elektrizitaet, Fernwaerme, electricity, heat
  - Transport: LKW-Transport, Flugtransport, Schiffstransport, truck transport
  - Combustion: any "Verbrennung" or burning activity
  - Basic materials: Stahl, Beton, Holz, Papier, Kunststoff, Wasser

If YES (simple activity) --> Go to STEP 2. You MUST NOT use "decompose".
If NO (complex product like Hamburger, Laptop, Kleidung, Moebel) --> Go to STEP 3.

STEP 2 - SIMPLE ACTIVITY: Choose "match" or "ambiguous":
Count how many candidates are PLAUSIBLE matches for this input.
CRITICAL: IGNORE retrieval scores! Look ONLY at activity names and contexts!

- EXACTLY 1 plausible candidate exists --> "match"
- 2 OR MORE plausible candidates exist --> "ambiguous"

What counts as DIFFERENT candidates:
  - Different CONTEXTS: "burned in building machine" vs "burned in fishing vessel" vs "burned in agricultural machinery" = 3 different candidates
  - Different GEOGRAPHIES: GLO vs RoW vs CH vs DE = different candidates
  - Different SPECIFICATIONS: "18.5kW" vs "74.57kW" vs ">500kW" = different candidates

For "ambiguous": return ALL plausible candidates (at least top 10, or all if fewer).

STEP 3 - COMPLEX PRODUCT: Choose "match", "ambiguous", or "decompose":
Look at the candidates. Can any single candidate represent this product?
- YES, exactly 1 --> "match"
- YES, 2 or more --> "ambiguous"
- NO, none match --> "decompose" into 3-10 physical components

For decomposition:
- Component quantities MUST sum to EXACTLY 1 {referenzeinheit}
- Use English search queries for each component
- Mark all assumptions

===== GHG SCOPE MATCHING =====

If input mentions Scope 1, 2, or 3:
- Scope 1 (direct) --> ONLY select "burned", "combustion", "burning" activities
- Scope 2 (energy) --> Select "electricity production", "heat production"
- Scope 3 (indirect) --> Select "production", "manufacturing", "treatment"

===== ADDITIONAL RULES =====

- Prefer region: requested region > GLO > RoW > other
- Unit mismatch is NOT a reason to decompose (conversion happens automatically)
- When in doubt between match and ambiguous --> ALWAYS choose "ambiguous"
- For "ambiguous", include AT LEAST the top 10 candidates with different contexts

===== RESPONSE FORMAT =====

You MUST respond with ONLY this JSON structure (no other text):

{{
  "decision": "match" | "ambiguous" | "decompose",
  "match": {{
    "UUID": "exact-uuid-from-candidates"
  }},
  "ambiguous": {{
    "options": [
      {{"UUID": "...", "why_short": "short reason this candidate is plausible"}},
      ...
    ]
  }},
  "decompose": {{
    "assumptions": ["assumption 1", "assumption 2", ...],
    "components": [
      {{
        "component_label": "descriptive label",
        "assumed_quantity": 1.0,
        "assumed_unit": "kg",
        "search_query_text": "English search query for ecoinvent database"
      }},
      ...
    ]
  }}
}}

Include ONLY the relevant section based on your decision. For "match", include only the "match" object. For "ambiguous", include only the "ambiguous" object. For "decompose", include only the "decompose" object.